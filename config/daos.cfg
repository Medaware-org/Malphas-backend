[get_session_user]
type = single
query = SELECT * FROM "user" u INNER JOIN session s on s.user_id = u.id WHERE s.session_token = ?;
mapping = user
params = user_id=std::string;

[get_sessions_of_user]
type = multiple
query = SELECT * FROM session s WHERE s.user_id = ?;
mapping = session
params = user_id=std::string;

[get_user_by_username]
type = single
query = SELECT * FROM "user" u WHERE u.nickname = ?;
mapping = user
params = username=std::string;

[get_scenes_of_user]
type = multiple
query = SELECT * FROM scene s WHERE s.author = ?;
mapping = scene
params = user_id=std::string;

[invalidate_session]
type = command
query = UPDATE session s SET s.invalidated = true WHERE s.session_token = ?;
params = session_token=std::string;

[delete_wire]
type = command
query = DELETE from wire w where w.id = ?;
params = id=std::string;
